<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CHAPTER.14 비동기적 프로그래밍</title>
</head>
<script>
    /**
        콜백은 자바스크립트에서 가장 오래된 비동기적 메커니즘이다.
        콜백을 간단히 말하자면, 나중에 호출할 함수이다.
        콜백 함수는 일반적인 자바스크립트 함수일 뿐이다.
        일반적으로 다른 함수에 넘기거나 객체의 프로퍼티로 사용한다.
     */

    console.log("Before");
    function f() {
        console.log("After");
    }
    setTimeout(f, 60*1000); // 1분
    console.log("setTimeout run");
    console.log("me too");

    /**
     예상 결과
     Before
     After
     setTimeout run
     me too

     결과
     Before
     setTimeout run
     me too
     after
     */

    /**
     setTimeout : 콜백함수를 한번만 실행하고 멈춘다.
     setInterval : 콜백을 정해진 주기마다 호출하며 clearInterval을 사용할때까지 멈추지않는다.
     */

    const start = new Date();
    let i = 0;
    const intervalId = setInterval(function () {
        let now = new Date();
        if (now.getMinutes() !== start.getMinutes() || ++i>10)
            return clearInterval(intervalId); // 콜백 종료
        console.log(`${i}: ${now}`);
    }, 5*1000);
</script>
<body>

</body>
</html>